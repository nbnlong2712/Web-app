# Story 1.9: Implement Tool Detail Modal and Page

## Status
Draft

## Story
**As a** visitor,
**I want** to view detailed information about a tool in a modal or dedicated page,
**so that** I can make an informed decision about using the tool.

## Acceptance Criteria
1. Tool detail modal opens when clicking a ToolCard
2. Dedicated `/t/[slug]` page is created with ISR
3. Modal and page display identical content
4. Modal has proper accessibility features (ESC close, focus trap)
5. Page includes SEO metadata and OpenGraph tags
6. Both modal and page include Visit and Copy Link buttons

## Tasks / Subtasks
- [ ] Create ToolDetail component
  - [ ] Design component with glass styling matching Neo-Glassmorphism theme
  - [ ] Display tool details (description, pricing, tags, last_updated)
  - [ ] Implement Visit and Copy Link buttons
- [ ] Implement modal behavior
  - [ ] Create modal that opens from ToolCard click
  - [ ] Implement ESC key to close modal
  - [ ] Implement focus trap for accessibility
  - [ ] Ensure proper ARIA attributes
- [ ] Create dedicated detail page
  - [ ] Create `app/t/[slug]/page.tsx` with ISR configuration
  - [ ] Fetch tool data by slug
  - [ ] Implement SEO metadata and OpenGraph tags
- [ ] Ensure content parity
  - [ ] Verify modal and page display identical content
  - [ ] Test deep-linking to detail page
- [ ] Implement button functionality
  - [ ] Add Visit button with affiliate link handling
  - [ ] Add Copy Link button with clipboard functionality
  - [ ] Test button accessibility

## Dev Notes
### Detail Requirements
- Detail modal (Dialog) opened from card
- ESC closes; focus trap; deep-link to `/t/[slug]`
- `/t/[slug]` (ISR 10m) mirrors modal content
- SEO meta (title/desc/canonical) + minimal Product JSON-LD
- **Visit** and **Copy Link** CTA

[Source: docs/epic/epic-e-tool-detail-modal-page.md]

### Routing & Rendering Strategy
- `/t/[slug]` **ISR (5–15m)**: Tool detail page; also openable as modal from grid

[Source: docs/architecture/2-routing-rendering-strategy-nextjs-app-router.md]

### Styling and A11y
- **Glass UI**: Respect theme tokens (blur, borders, subtle shadows)
- **A11y**: Visible focus styles, proper roles/labels, ESC to close modals, focus trap

[Source: docs/architecture/coding_standards.md#7]

### Project Structure
```
ai-tools-library/
├─ app/
│  ├─ t/
│  │  └─ [slug]/
│  │     └─ page.tsx                 # Tool detail (ISR)
├─ components/
│  ├─ ToolDetail.tsx
```

[Source: docs/architecture/source-tree.md]

## Testing
### Test file location
- Tests should be placed in `tests/e2e/` directory for end-to-end testing
- Test files: `tests/e2e/tool-detail-modal.test.ts`, `tests/e2e/tool-detail-page.test.ts`

### Test standards
- Test modal opening and closing behavior
- Verify content parity between modal and page
- Test SEO metadata on detail page
- Verify accessibility features (ESC, focus trap)
- Test Visit and Copy Link button functionality

### Testing frameworks and patterns to use
- Use Playwright for end-to-end testing
- Test modal behavior with keyboard navigation
- Verify SEO metadata and OpenGraph tags
- Test clipboard functionality for Copy Link button
- Test affiliate link handling for Visit button

[Source: docs/architecture/coding_standards.md#8]

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
|      |         |             |        |

## Dev Agent Record
### Agent Model Used
TBD

### Debug Log References
TBD

### Completion Notes List
TBD

### File List
TBD

## QA Results
TBD